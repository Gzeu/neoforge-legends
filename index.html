<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeoForge Legends - Games Hub</title>
    <style>
      :root { --bg:#0b0b0f; --card:#0f1220; --fg:#e6f7ff; --muted:#9fb6c2; --accent:#00e0ff; }
      *{box-sizing:border-box}
      body { margin:0; background: radial-gradient(1200px 700px at 10% -10%, #121935, var(--bg)); color: var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial; }
      header { padding: 26px 20px; display:flex; gap:16px; justify-content:space-between; align-items:center; max-width:1200px; margin:0 auto; }
      .brand { font-weight:800; letter-spacing:0.4px; color: var(--accent); text-shadow: 0 0 14px #00e0ff33; }
      .desc { color: var(--muted); font-size:14px; }
      main { max-width:1200px; margin: 0 auto; padding: 0 20px 40px; display:grid; grid-template-columns: 1.2fr 1fr; gap: 22px; }
      @media (max-width: 1000px){ main{ grid-template-columns: 1fr; } }
      .viewer { background: #0c1024; border:1px solid #1b2340; border-radius:14px; padding:12px; box-shadow: 0 10px 28px rgba(0,0,0,0.35); }
      .viewer header { padding: 8px 10px; display:flex; align-items:center; gap:10px; justify-content:space-between; }
      .pill { font-size:12px; color:#001118; background: var(--accent); padding: 4px 8px; border-radius:99px; font-weight:700; }
      iframe { width:100%; height: 72vh; min-height: 480px; border: 1px solid #1b2340; border-radius: 10px; background:#000; }
      .catalog { display:grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap:14px; align-content:flex-start; }
      .card { background: var(--card); border:1px solid #1b2340; border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:8px; box-shadow: 0 10px 24px rgba(0,0,0,0.25); }
      .card h3 { margin:0; font-size:16px; color:#c9ecff; }
      .card p { margin:0; font-size:12px; color: var(--muted); }
      .tags { display:flex; gap:6px; flex-wrap:wrap; }
      .tag { font-size:11px; padding:2px 6px; border:1px solid #2a3b55; border-radius:99px; color:#bfefff; }
      .actions { display:flex; gap:8px; }
      button, a.btn { cursor:pointer; border:1px solid #254a66; background:#0d1a26; color:#bfefff; padding:8px 10px; border-radius:8px; font-weight:600; font-size:13px; text-decoration:none; }
      a.primary, button.primary { background: var(--accent); color:#001118; border-color: transparent; }
      footer { max-width:1200px; margin:16px auto 40px; padding:0 20px; color: var(--muted); font-size:12px; }
    </style>
  </head>
  <body>
    <header>
      <div>
        <div class="brand">ðŸŽ® NeoForge Legends Â· Games Hub</div>
        <div class="desc">Choose a game from the right. The viewer loads it inline so each game is different and isolated.</div>
      </div>
      <nav>
        <a class="btn" href="https://github.com/Gzeu/neoforge-legends" target="_blank">Repository</a>
      </nav>
    </header>

    <main>
      <section class="viewer">
        <header>
          <div class="pill" id="current-title">Base Grid</div>
          <div class="desc" id="current-path">/base-grid/</div>
        </header>
        <iframe id="game-frame" src="base-grid.html" title="Game Viewer" referrerpolicy="no-referrer"></iframe>
      </section>

      <aside class="catalog" id="catalog">
        <!-- Cards will be populated by script -->
      </aside>
    </main>

    <footer>
      Tip: Published on GitHub Pages. Each game runs client-side and can be opened in a new tab if preferred.
    </footer>

    <script>
      const games = [
        {
          id: 'base',
          title: 'Base Grid',
          file: 'base-grid.html',
          desc: 'Minimal movement + score on a clean grid background.',
          tags: ['minimal', 'grid', 'score']
        },
        {
          id: 'halloween',
          title: 'Halloween',
          file: 'halloween.html',
          desc: 'Pumpkin avatar, ghosts, candies, spooky palette.',
          tags: ['seasonal', 'spooky', 'collect']
        },
        {
          id: 'pets',
          title: 'Pets',
          file: 'pets.html',
          desc: 'Choose dog/cat/fox avatars, collect treats, hearts.',
          tags: ['avatars', 'collect', 'family']
        },
        {
          id: 'viral',
          title: 'Viral',
          file: 'viral.html',
          desc: 'Meme avatars, likes counter, power-ups, flashy effects.',
          tags: ['memes', 'power-up', 'effects']
        },
        {
          id: 'fantasy',
          title: 'Fantasy',
          file: 'fantasy.html',
          desc: 'Knight vs slimes, coins, potions, HP.',
          tags: ['rpg', 'collect', 'hp']
        }
      ];

      const catalogEl = document.getElementById('catalog');
      const frame = document.getElementById('game-frame');
      const currentTitle = document.getElementById('current-title');
      const currentPath = document.getElementById('current-path');

      function setGame(file, title){
        frame.src = file;
        currentTitle.textContent = title;
        currentPath.textContent = '/' + file.replace('.html', '/');
      }

      function cardTemplate(g){
        const tagHtml = g.tags.map(t=>`<span class="tag">${t}</span>`).join('');
        return `
          <div class="card">
            <h3>${g.title}</h3>
            <p>${g.desc}</p>
            <div class="tags">${tagHtml}</div>
            <div class="actions">
              <button class="primary" data-file="${g.file}" data-title="${g.title}">Play inline</button>
              <a class="btn" href="${g.file}" target="_blank" rel="noopener">Open tab</a>
            </div>
          </div>
        `;
      }

      function renderCatalog(){
        catalogEl.innerHTML = games.map(cardTemplate).join('');
        catalogEl.querySelectorAll('button[data-file]')
          .forEach(btn => btn.addEventListener('click', () => setGame(btn.dataset.file, btn.dataset.title)));
      }

      // Deep-link support: index.html?game=pets
      const params = new URLSearchParams(location.search);
      const initial = games.find(g => g.id === params.get('game')) || games[0];
      setGame(initial.file, initial.title);
      renderCatalog();
    </script>
  </body>
</html>
